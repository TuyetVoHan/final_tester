{% extends "base.html" %}
{% block content %}
<h2 class="title">Restaurants</h2>
<form method="get" class="mb-3">
  <div class="field is-grouped">
    <div class="control"><input class="input" name="location" placeholder="Location" value="{{ q_location }}"></div>
    <div class="control"><input class="input" name="cuisine" placeholder="Cuisine" value="{{ q_cuisine }}"></div>
    <div class="control">
      <div class="select">
        <select name="sort">
          <option value="rating">Sort by rating</option>
          <option value="name">Sort by name</option>
        </select>
      </div>
    </div>
    <div class="control"><button class="button is-info">Search</button></div>
  </div>
</form>

<div>
  {% for r in restaurants %}
    <div class="box">
      <h3 class="title is-4">{{ r['name'] }} <small>({{ r['rating'] }})</small></h3>
      <p>{{ r['cuisine'] }} â€” {{ r['location'] }}</p>
      <p>{{ r['description'] }}</p>
      <a class="button is-small is-primary" href="{{ url_for('restaurant_detail', rid=r['restaurant_id']) }}">View & Reserve</a>
    </div>
  {% else %}
    <p>No restaurants found.</p>
  {% endfor %}
</div>
{% endblock %}
