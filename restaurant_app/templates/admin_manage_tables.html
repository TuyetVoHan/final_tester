{% extends "base.html" %} {% block content %}
<h2 class="title">Manage Tables for: {{ restaurant['name'] }}</h2>
<div class="columns">
  <div class="column is-one-third">
    <h3 class="subtitle">Add New Table</h3>
    <form
      method="post"
      action="{{ url_for('admin_manage_tables', rid=restaurant['restaurant_id']) }}"
    >
      <div class="field">
        <label class="label">Table Number / Name</label>
        <div class="control">
          <input
            class="input"
            name="table_number"
            placeholder="e.g., T1, Ban cÃ´ng"
            required
          />
        </div>
      </div>
      <div class="field">
        <label class="label">Capacity</label>
        <div class="control">
          <input
            class="input"
            type="number"
            name="capacity"
            min="1"
            placeholder="e.g., 4"
            required
          />
        </div>
      </div>
      <div class="control">
        <button class="button is-primary">Add Table</button>
      </div>
    </form>
  </div>

  <div class="column">
    <h3 class="subtitle">Existing Tables</h3>
    {% if tables %}
    <table class="table is-fullwidth is-striped">
      <thead>
        <tr>
          <th>Table Number</th>
          <th>Capacity</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for table in tables %}
        <tr>
          <td>{{ table['table_number'] }}</td>
          <td>{{ table['capacity'] }}</td>
          <td>
            <form
              style="display: inline"
              method="post"
              action="{{ url_for('admin_delete_table', tid=table['table_id']) }}"
              onsubmit="return confirm('Are you sure you want to delete this table?');"
            >
              <button class="button is-small is-danger">Delete</button>
            </form>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    {% else %}
    <p>No tables found for this restaurant yet.</p>
    {% endif %}
  </div>
</div>

<div class="mt-4">
  <a href="{{ url_for('admin_restaurants') }}" class="button"
    >Back to Restaurants</a
  >
</div>
{% endblock %}
