{% extends "base.html" %}
{% block content %}
<h2 class="title">Reservations (Admin)</h2>
{% for r in reservations %}
  <div class="box">
    <p><strong>#{{ r['reservation_id'] }}</strong> â€” {{ r['restaurant_name'] }} | {{ r['reservation_date'] }} {{ r['reservation_time'] }} | {{ r['guests'] }} guests | <em>{{ r['status'] }}</em></p>
    <p>Customer: {{ r['username'] }}</p>
    <form method="post" action="{{ url_for('admin_update_reservation', res_id=r['reservation_id']) }}">
      <div class="field has-addons">
        <div class="control">
          <div class="select">
            <select name="status">
              <option value="pending" {% if r['status']=='pending' %}selected{% endif %}>pending</option>
              <option value="confirmed" {% if r['status']=='confirmed' %}selected{% endif %}>confirmed</option>
              <option value="rejected" {% if r['status']=='rejected' %}selected{% endif %}>rejected</option>
              <option value="completed" {% if r['status']=='completed' %}selected{% endif %}>completed</option>
              <option value="cancelled" {% if r['status']=='cancelled' %}selected{% endif %}>cancelled</option>
            </select>
          </div>
        </div>
        <div class="control"><button class="button is-small is-primary">Update</button></div>
      </div>
    </form>
  </div>
{% else %}
  <p>No reservations.</p>
{% endfor %}
{% endblock %}
